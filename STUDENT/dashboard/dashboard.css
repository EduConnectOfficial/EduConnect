/* ===================================================================
   EduConnect • Consolidated CSS (organized & deduplicated)
   Brand tokens, layout, header, cards, lists, calendar, tables, modals
   =================================================================== */

/* ------------------------------ */
/* Tokens                         */
/* ------------------------------ */
:root {
  --bg: #f6f8fa;
  --text: #1f2328;
  --muted: #6a737d;
  --card: #fff;
  --border: #e5e7eb;

  /* Brand */
 /* ColorHunt Blue Palette */
  --brand-dark-1: #001369;
  /* deep navy */
  --brand-dark-2: #1a388a;
  /* royal / mid blue */
  --brand-accent-1: #3b6bb4;
  /* lighter sky blue */
  --brand-accent-2: #113667;

  --card-radius: 14px;
}

/* ------------------------------ */
/* Base / Layout                  */
/* ------------------------------ */
html, body {
  height: 100%;
  margin: 0;
  background: var(--bg);
  color: var(--text);
}

.dashboard { display: flex; min-height: 100vh; }
.main{
  margin-left: 70px; width: calc(100% - 70px);
  transition: margin-left .3s ease, width .3s ease;
  display: flex; flex-direction: column; min-height: 100vh; background: var(--bg);
}
.sidebar:hover ~ .main { margin-left: 220px; width: calc(100% - 220px); }

/* Utilities */
.text-light{ color:#1f2328 !important; } /* used on dark brand surfaces */

/* ------------------------------ */
/* Header                         */
/* ------------------------------ */
.header-top {
  width: 100%;
  padding: 1rem 2rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: linear-gradient(to bottom, #001369, #1a388a, #3b6bb4);
  color: #fff;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  margin-bottom: 0 !important;
}
.logo-header{ height:45px; }
/* Logos */
.brand {
  display: flex;
  align-items: center;
  gap: 0px;
  /* space between the two logos */
  min-width: 0;
}

.logo-header {
  height: 28px;
  /* smaller to fit both logos */
  width: auto;
}

.school-logo {
  height: 55px;
  width: auto;
  object-fit: contain;
}

/* Search */
.search-box{ position:relative; flex:1; max-width:500px; margin:0 20px; }
.search-box input{
  width:100%; padding:10px 14px; border-radius:30px; border:none; outline:none;
}
.search-box i{
  position:absolute; right:15px; top:50%; transform:translateY(-50%); color:#999;
}

/* Profile button */
.profile-btn{
  background:none; border:none; font-size:1.8rem; color:#fff; cursor:pointer;
  display:flex; align-items:center; gap:8px;
}
.profile-btn .username{ font-size:14px; }

/* ------------------------------ */
/* Headings                       */
/* ------------------------------ */
.page-title {
  font-weight: 700;
  font-size: 1.7rem;
  text-align: center;
  margin: 4px 0 18px;
}

.page-title.brand {
  background: #152238;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

/* ------------------------------ */
/* Cards                          */
/* ------------------------------ */
.ui-card{
  background:var(--card); border:1px solid var(--border);
  border-radius:12px; padding:16px;
}
.ui-card-head{ display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; }
.ui-card-title{ font-size:1rem; font-weight:700; margin:0; display:flex; gap:8px; align-items:center; }
.ui-subtext{ font-size:.875rem;  }

.ui-card.card-themed{
  border-radius:var(--card-radius);
  border:1px solid rgba(0,0,0,.06);
  box-shadow:0 10px 24px rgba(0,0,0,.10);
  overflow:hidden;
}
.ui-card.card-themed .ui-card-head{
  margin:-16px -16px 12px -16px; padding:12px 16px;
  background:#113667;
  color:#EAF2FF; border-bottom:1px solid rgba(255,255,255,.1);
}
.ui-card.card-themed .ui-card-title i{ color:#EAF2FF; }
.ui-card.card-themed .ui-subtext{ color:#1f2328; }
.ui-card.card-themed > :not(.ui-card-head){ color:#1f2328; }

/* ------------------------------ */
/* Lists                          */
/* ------------------------------ */
.ui-list{ list-style:none; margin:0; padding:0; }
.ui-list-item{
  padding:10px 0; border-bottom:1px solid var(--border); font-size:.95rem;
}
.ui-list-item:last-child{ border-bottom:none; }

/* ------------------------------ */
/* Buttons                        */
/* ------------------------------ */
.btn-amber {
  background: linear-gradient(to bottom,
      var(--brand-accent-1) 0%,
      var(--brand-dark-2) 100%);
  color: #fff;
  border: none;
}

.btn-amber:hover {
  filter: brightness(1.06);
  color: #fff;
}

.btn-amber-outline {
  background: #fff;
  color: var(--brand-accent-2);
  border: 1px solid var(--brand-accent-2);
}

.btn-amber-outline:hover {
  background: linear-gradient(to bottom,
      var(--brand-accent-1) 0%,
      var(--brand-dark-2) 100%);
  color: #fff;
  border-color: transparent;
}

.btn-green {
  background: var(--accent-green);
  color: #fff;
  border: none;
}

.btn-green:hover {
  filter: brightness(1.05);
}

.btn-red {
  background: var(--accent-red);
  color: #fff;
  border: none;
}

.btn-red:hover {
  filter: brightness(1.05);
}

/* Logout button */
.logout-btn {
    background: linear-gradient(to bottom,
        #6EC9F5 0%,
        #004891 100%);
    border: none;
    padding: 0.6rem 1.5rem;
    border-radius: 30px;
    color: #eaf2ff;
    font-size: 1rem;
    font-weight: bold;
    cursor: pointer;
    text-decoration: none;
    white-space: nowrap;
    display: inline-block;
    opacity: 0;
    transition: opacity 0.3s ease, filter 0.3s ease;
    text-align: center;
  }

#sidebar-container:hover .logout-btn {
  opacity: 1;
}

.logout-btn:hover {
  opacity: .85;
  color: var(--brand-dark-1);
}



/* ------------------------------ */
/* Forms / Tables                 */
/* ------------------------------ */
.form-control:focus, .form-select:focus{
  border-color:var(--brand-accent-2);
  box-shadow:0 0 0 .2rem rgba(255,106,0,.18);
}

.table-clean thead th{
  background:#f8f9fb; border-bottom:1px solid var(--border);
  font-weight:600; color:#374151;
}
.table-clean th, .table-clean td{ border-color:var(--border); }

/* ------------------------------ */
/* Calendar                       */
/* ------------------------------ */
.calendar-grid{
  display:grid; grid-template-columns:repeat(7, 1fr);
  gap:6px; border:1px dashed var(--border); border-radius:10px;
  padding:10px; background:#fff; min-height:260px;
}
.cal-head{
  display:grid; grid-template-columns:repeat(7, 1fr);
  gap:6px; margin-bottom:6px; color:var(--muted); font-size:.85rem;
}
.cal-day{
  border:1px solid var(--border); border-radius:8px;
  min-height:80px; padding:6px; font-size:.85rem; background:#fff;
}
.cal-day .num{ font-weight:600; }
.cal-day.today{ border-color:#0d6efd; box-shadow:0 0 0 2px rgba(13,110,253,.15) inset; }
.cal-day .pill{
  display:inline-block; margin-top:4px; padding:2px 6px;
  border-radius:999px; font-size:.7rem; border:1px solid #d0d7de;
  color:#0d6efd; background:#eff6ff;
}
.cal-day.has-events{ cursor:pointer; }
.cal-day.has-events:hover{ box-shadow:0 0 0 2px rgba(13,110,253,.15) inset; }

.cal-btn{
  padding:.2rem .5rem; font-size:.85rem; line-height:1; height:2rem; min-width:2rem;
  border-radius:.5rem; display:inline-flex; align-items:center; justify-content:center;
  color:#fff !important; border:1.5px solid rgba(255,255,255,.85) !important;
  box-shadow:0 0 0 2px rgba(255,255,255,.12) inset;
}
.cal-btn:hover{ background:rgba(255,255,255,.08); border-color:#fff; }
.cal-btn:focus-visible{ outline:2px solid #fff; outline-offset:2px; }

/* Optional centered calendar controls in themed card header */
.ui-card.card-themed .ui-card-head{ position:relative; }
.cal-controls{
  position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);
  display:flex; align-items:center; gap:.5rem;
}

/* ------------------------------ */
/* Responsive                     */
/* ------------------------------ */

/* ≤ 480px: one-row header w/ clamped username, sidebar collapses, cards tighten */
@media (max-width:480px){
  :root{ --m-header-gap:12px; }

  .dashboard{ flex-direction:column; }
  .main{ margin-left:0; width:100%; }
  .sidebar{ width:100%; position:relative; z-index:10; }
  .sidebar:hover ~ .main{ margin-left:0; width:100%; }

  /* Header stays one row */
  .header-top{
    display:flex !important; flex-direction:row !important;
    align-items:center !important; justify-content:space-between !important;
    gap:var(--m-header-gap) !important; padding:.6rem .8rem !important; text-align:left !important;
  }
  .logo-header{ display:none !important; }
  .search-box{ flex:1 1 0 !important; min-width:0 !important; margin:0 !important; }
  .search-box input{
    height:36px !important; padding:6px 34px 6px 12px !important;
    font-size:.9rem !important; border-radius:28px !important;
  }
  .search-box i{ right:10px !important; }

  .profile-btn{
    flex:0 0 auto !important; width:auto !important; height:44px !important;
    padding:0 .75rem !important; margin-left:var(--m-header-gap) !important;
    border-radius:999px !important; display:inline-flex !important;
    align-items:center !important; justify-content:center !important; gap:8px !important;
    max-width:45vw !important;
  }
  .profile-btn i{ font-size:22px !important; flex:0 0 auto !important; line-height:1 !important; }
  .profile-btn .username{
    display:inline-flex !important; align-items:center !important;
    white-space:nowrap !important; overflow:hidden !important; text-overflow:ellipsis !important;
    max-width:calc(45vw - 28px - 16px) !important; font-size:.9rem !important; line-height:1.1 !important;
  }

  /* Cards compact */
  .ui-card{ padding:10px; }

  /* Mobile calendar: keep 7 columns and make circular days */
  .calendar-grid{ grid-template-columns: repeat(7, minmax(36px, 1fr)); }
  .cal-day{
    aspect-ratio:1/1; border-radius:50% !important; padding:0 !important; min-height:0 !important;
    display:flex; align-items:center; justify-content:center; overflow:hidden;
  }
  .cal-day .num{ position:static !important; font-weight:700; line-height:1; }
  .cal-day .pill{
    width:6px; height:6px; border-radius:50%; padding:0; margin:6px 2px 0; border:0;
    background:#0d6efd; display:inline-block; font-size:0; line-height:0; color:transparent;
  }
  .cal-day .pill:nth-of-type(n+3){ display:none; } /* cap to 2 dots */

  /* Hide "Calendar" title when month label is present & center controls */
  .ui-card-head:has(#calLabel) > .ui-card-title{ display:none !important; }
  .ui-card-head:has(#calLabel){ justify-content:center !important; }
  .ui-card-head:has(#calLabel) .d-flex{
    width:100%; justify-content:center !important; gap:.5rem;
  }

  /* Buttons full-width on very small screens */
  .btn-amber, .btn-amber-outline, .logout-btn{
    width:100%; font-size:.9rem; padding:.7rem 1rem; margin-top:8px;
  }

  /* Tables scrollable */
  .table-clean{ overflow-x:auto; display:block; }
  .table-clean table{ width:100%; min-width:480px; }
}

/* ≤ 576px: stack search controls below title in card headers */
@media (max-width:576px){
  .ui-card.card-themed .ui-card-head{
    display:flex; align-items:center; justify-content:space-between;
    gap:.5rem; flex-wrap:wrap;
  }
  .ui-card.card-themed .ui-card-head .ui-card-title{ flex:1 1 auto; min-width:160px; order:1; }
  .ui-card.card-themed .ui-card-head > .d-flex.flex-wrap{
    flex-basis:100%; margin-left:0; order:2;
  }
}

/* Default: allow search controls to prefer ~360px but shrink gracefully */
.ui-card.card-themed .ui-card-head > .d-flex.flex-wrap{
  margin-left:auto; flex:0 1 360px; min-width:0;
}
.ui-card.card-themed .ui-card-head .input-group{ width:100%; max-width:100%; min-width:0; }
.ui-card.card-themed .ui-card-head .input-group[style]{ min-width:0 !important; }
.ui-card.card-themed .ui-card-head .input-group .input-group-text{
  border-right:0; border-top-right-radius:0; border-bottom-right-radius:0; height:44px; padding:0 .75rem;
}
.ui-card.card-themed .ui-card-head .input-group .form-control{
  border-left:0; border-top-left-radius:0; border-bottom-left-radius:0; min-width:0; margin-left:0 !important;
}
#searchModules{ height:44px; font-size:16px; padding:8px 12px; }
#searchModules::placeholder{ color:#9aa2a8; }

/* Month label sizing */
#calLabel{ text-align:center; min-width:0; flex:0 1 auto; }
#prevMonth, #nextMonth{ flex:0 0 auto; }
