/* ===================================================================
   EduConnect • Consolidated CSS (organized & deduplicated)
   Brand tokens, layout, header, cards, modals, responsive tweaks
   =================================================================== */

/* ------------------------------ */
/* Tokens                         */
/* ------------------------------ */
:root{
  --bg:#f6f8fa;
  --text:#1f2328;
  --muted:#6a737d;
  --card:#fff;
  --border:#e5e7eb;
  /* ColorHunt Blue Palette */
  --brand-dark-1: #001369;
  /* deep navy */
  --brand-dark-2: #1a388a;
  /* royal / mid blue */
  --brand-accent-1: #3b6bb4;
  /* lighter sky blue */
  --brand-accent-2: #113667;
  /* darker accent */

  --card-radius:14px;
}

/* ------------------------------ */
/* Base                           */
/* ------------------------------ */
html,body{height:100%;margin:0;background:var(--bg);color:var(--text)}
.dashboard{display:flex;min-height:100vh}
.main{
  margin-left:70px; width:calc(100% - 70px);
  transition:margin-left .3s ease,width .3s ease;
  display:flex; flex-direction:column; min-height:100vh; background:var(--bg)
}
.sidebar:hover ~ .main{ margin-left:220px; width:calc(100% - 220px) }

.content{ padding:24px }

/* Utilities */
.muted{color:var(--muted)}
.wrap-anywhere{overflow-wrap:anywhere;word-break:break-word;line-break:anywhere}
.disabled{opacity:.7;pointer-events:none}

/* ------------------------------ */
/* Header                         */
/* ------------------------------ */
.header-top{
  width:100%;
  display:flex; justify-content:space-between; align-items:center;
  padding:1rem 2rem;
  background:linear-gradient(to bottom,var(--brand-dark-1),var(--brand-dark-2));
  color:#fff;
  box-shadow:0 4px 8px rgba(0,0,0,.1);
  position:sticky; top:0; z-index:10;
}
.logo-header{height:45px}
/* Logos */
.brand {
  display: flex;
  align-items: center;
  gap: 0px;
  /* space between the two logos */
  min-width: 0;
}

.logo-header {
  height: 28px;
  /* smaller to fit both logos */
  width: auto;
}

.school-logo {
  height: 55px;
  width: auto;
  object-fit: contain;
}

/* Search in header */
.search-box{ position:relative; flex:1; max-width:500px; margin:0 20px }
.search-box input{
  width:100%; padding:10px 14px; border-radius:30px; border:none; outline:none
}
.search-box i{
  position:absolute; right:15px; top:50%; transform:translateY(-50%); color:#999
}

/* Profile button */
.profile-btn{
  background:none; border:none; font-size:1.8rem; color:#fff; cursor:pointer;
  display:flex; align-items:center; gap:8px
}
.profile-btn .username{ font-size:14px }

/* Page titles */
.page-title{ font-weight:700; font-size:1.6rem; margin:0 0 10px; text-align:left }
.page-title.brand,
.brand-grad{
  background:linear-gradient(90deg,var(--brand-dark-1),var(--brand-dark-2));
  -webkit-background-clip:text; background-clip:text; color:transparent
}

/* ------------------------------ */
/* Cards                          */
/* ------------------------------ */
.ui-card{
  background:var(--card);border:1px solid var(--border);
  border-radius:12px;padding:16px
}
.ui-card-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.ui-card-title{font-size:1rem;font-weight:700;margin:0;display:flex;gap:8px;align-items:center}
.ui-subtext{font-size:.9rem;color:var(--muted)}

.ui-card.card-themed{
  border-radius:var(--card-radius);
  border:1px solid rgba(0,0,0,.06);
  box-shadow:0 10px 24px rgba(0,0,0,.10);
  overflow:hidden;
}
.ui-card.card-themed .ui-card-head{
  margin:-16px -16px 12px -16px;padding:12px 16px;
  background:linear-gradient(90deg,var(--brand-dark-1),var(--brand-dark-2));
  color:#eaf2ff;border-bottom:1px solid rgba(255,255,255,.1)
}
.ui-card.card-themed .ui-card-title i{color:#eaf2ff}
.ui-card.card-themed .ui-card-title h2{color:#eaf2ff}
.ui-card.card-themed .ui-subtext{color:#eaf2ff}
.ui-card.card-themed > :not(.ui-card-head){color:#1f2328}
/* Assignment / Course cards */
.assignment-card,
.course-card{
  background:#fff; border:1px solid var(--border); border-radius:14px;
  padding:14px; height:100%; box-shadow:0 8px 18px rgba(0,0,0,.08);
  display:flex; flex-direction:column; position:relative
}

/* Course header row */
.course-head{ display:flex; gap:10px; align-items:center; justify-content:space-between }
.course-title{ font-weight:700; margin:0 }
.course-meta{ color:var(--muted); font-size:.9rem }
.favorite{ border:none; background:transparent; color:#aaa }
.favorite.active{ color:#f59e0b }
.sync-indicator{ font-size:.8rem; color:var(--muted) }

/* Soft badge */
.badge-soft{
  display:inline-flex; align-items:center; gap:6px;
  border:1px solid rgba(176,60,16,.25); border-radius:999px;
  padding:2px 8px; font-size:.75rem; color:var(--brand-accent-2);
  background:linear-gradient(90deg, rgba(255,106,0,.12), rgba(176,60,16,.12))
}

/* Status dots */
.status-dot{ width:8px; height:8px; border-radius:50%; display:inline-block; margin-right:6px }
.st-open{ background:#22c55e } .st-closed{ background:#ef4444 }
.st-submitted{ background:#3b82f6 } .st-graded{ background:#a855f7 }

/* Description clamp (cards) */
.assignment-card .desc{
  display:-webkit-box; -webkit-box-orient:vertical; -webkit-line-clamp:4;
  line-clamp:4; overflow:hidden; text-overflow:ellipsis; word-break:break-word;
  line-height:1.4; max-height:calc(1.4em * 4);
  font-size:.9rem; color:#6b7280;
}

/* Meta boxes */
.meta-row{ display:flex; flex-wrap:wrap; gap:10px }
.meta-item{
  display:flex; flex-direction:column; padding:.5rem .75rem;
  border:1px solid var(--border); border-radius:10px; background:#fff; min-width:140px
}
.meta-label{ font-size:.75rem; color:var(--muted) }
.meta-value{ font-weight:600 }

/* Rubric */
.rubric-box{ border:1px solid var(--border); border-radius:12px; padding:12px; background:#fff }
.rubric-title{ font-weight:600; display:flex; align-items:center; gap:8px }
.rubric-item{ display:flex; align-items:center; gap:8px; padding:6px 0 }

/* Pills */
.pill-row{ display:flex; flex-wrap:wrap; gap:.5rem; margin:10px 0 18px }
.pill{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:4px 10px; border-radius:999px; font-size:.8rem; font-weight:700;
  border:1px solid var(--border); background:#fff; color:#374151;
  white-space:nowrap; max-width:100%; overflow:hidden
}
.pill .bi{ font-size:.9rem }
.pill-text{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap; min-width:0; display:inline-block }
.pill-course{ background:#fff7ed; border-color:#fed7aa; color:#9a3412 }
.pill-module{ background:#ecfdf5; border-color:#a7f3d0; color:#065f46 }
.pill-open{ background:#ecfeff; border-color:#a5f3fc; color:#075985 }
.pill-submitted{ background:#eef2ff; border-color:#c7d2fe; color:#3730a3 }
.pill-graded{ background:#f3e8ff; border-color:#e9d5ff; color:#6b21a8 }
.pill-closed{ background:#fee2e2; border-color:#fecaca; color:#991b1b }

/* Attachments / files */
.attachment-list a{ text-decoration:none }
.small-label{ font-size:.9rem; color:var(--muted) }

.file-list{ display:flex; flex-direction:column; gap:8px }
.file-pill{
  border:1px dashed var(--border); border-radius:10px; padding:10px; background:#fff;
  display:flex; justify-content:space-between; align-items:center
}
.file-pill.bad{ border-color:#fca5a5; background:#fff5f5 }
.file-pill .size{ color:var(--muted); font-size:.85rem }
.file-pill .warn{ color:#b91c1c; font-weight:600; font-size:.85rem }

/* Long text containers */
#assignContent{ white-space:pre-wrap }
.attachment-list, .attachment-list a,
#submissionNote .p-2, #submissionFiles,
#submissionGrade, #submissionStatusBadge, #submissionTime{
  overflow-wrap:anywhere; word-break:break-word;
}

/* ------------------------------ */
/* Buttons                        */
/* ------------------------------ */
.btn-amber{
  background:linear-gradient(to bottom,var(--brand-accent-1),var(--brand-accent-2));
  color:#fff; border:none
}
.btn-amber:hover{ filter:brightness(1.05); color:#fff }
.btn-amber-outline{
  background:#fff; color:var(--brand-accent-2); border:1px solid var(--brand-accent-2)
}
.btn-amber-outline:hover{
  background:linear-gradient(to bottom,var(--brand-accent-1),var(--brand-accent-2));
  color:#fff; border-color:transparent
}

/* Auth buttons */
.login-btn{
  background:linear-gradient(to bottom,#FF6A00,#B03C10);
  color:#fff; border:none; border-radius:999px;
  transition:background .3s ease, transform .2s ease
}
.login-btn:hover{
  background:linear-gradient(to bottom,#ff8533,#cc3300);
  transform:scale(1.02)
}

/* Sidebar logout reveal */
.logout-btn {
  background: linear-gradient(to bottom,
      #6EC9F5 0%,
      #004891 100%);
  border: none;
  padding: 0.6rem 1.5rem;
  border-radius: 30px;
  color: #eaf2ff;
  font-size: 1rem;
  font-weight: bold;
  cursor: pointer;
  text-decoration: none;
  white-space: nowrap;
  display: inline-block;
  opacity: 0;
  transition: opacity 0.3s ease, filter 0.3s ease;
  text-align: center;
}

.sidebar:hover .logout-btn {
  opacity: 1;
}

.logout-btn:hover {
  filter: brightness(1.08);
}

/* ------------------------------ */
/* Forms                          */
/* ------------------------------ */
.form-control:focus, .form-select:focus{
  border-color:var(--brand-accent-2);
  box-shadow:0 0 0 .2rem rgba(255,106,0,.18)
}

/* ------------------------------ */
/* File Preview Modal (full-ish)  */
/* ------------------------------ */
#filePreviewModal .modal-dialog{ max-width:96vw }
#filePreviewModal .modal-content{
  height:92vh; display:flex; flex-direction:column
}
#filePreviewModal .modal-body{
  flex:1 1 auto; padding:0; background:#f8fafc; position:relative
}
.preview-wrap{
  position:absolute; inset:0; display:flex; align-items:center; justify-content:center; overflow:hidden
}
.preview-wrap iframe,
.preview-wrap embed,
.preview-wrap object,
.preview-wrap img,
.preview-wrap video,
.preview-wrap audio{
  width:100%; height:100%; border:0; object-fit:contain; background:#fff
}
.preview-fallback{ max-width:720px; margin:0 auto; padding:2rem; text-align:center }
#filePreviewFooter{
  display:flex; gap:.5rem; align-items:center; justify-content:space-between; flex-wrap:wrap
}
.spinner-wrap{
  position:absolute; inset:0; display:flex; align-items:center; justify-content:center; background:#ffffff
}

/* ------------------------------ */
/* Modal Styling                  */
/* ------------------------------ */
.modal-header{
  background:linear-gradient(to bottom,var(--brand-dark-1),var(--brand-dark-2));
  color:#fff; border-bottom:none
}
.modal-header .modal-title{ font-weight:600; color:#fff }
.modal-header .btn-close{ filter:brightness(0) invert(1); opacity:.9 }
.modal-header .btn-close:hover{ opacity:1 }

.modal-footer .btn,
#successOkBtn,
#feedbackModal .btn {
  background: linear-gradient(to bottom, #6EC9F5, #004891);
  border: none;
  color: #fff;
  border-radius: 999px;
  padding: 0.5rem 1.2rem;
  font-weight: 500;
  transition: background 0.3s ease, transform 0.2s ease;
}

.modal-footer .btn:hover,
#successOkBtn:hover,
#feedbackModal .btn:hover {
  background: linear-gradient(to bottom, #7bd4ff, #0a5fb0);
  transform: scale(1.05);
}
.modal-body{ color:black }

.modal.show{
  display:flex !important; align-items:center; justify-content:center;
  --bs-modal-margin:0; padding:0 !important
}
.modal.show .modal-dialog{
  margin:0 !important; max-width:640px; width:calc(100% - 2rem)
}
.modal.show .modal-content{
  max-height:min(90vh,800px); overflow:auto; border-radius:12px; box-shadow:0 18px 40px rgba(0,0,0,.25)
}

/* Alt/neutral footer button */
.btn-close-footer{
  background-color:#6a737d !important; color:#fff !important;
  border:none !important; border-radius:999px !important;
  padding:.5rem 1.2rem !important; font-weight:500;
  transition:background .2s ease, transform .2s ease
}
.btn-close-footer:hover,.btn-close-footer:focus{
  background-color:#6a737d !important; color:#fff !important; transform:scale(1.04)
}

/* Tighter modal on xs */
@media (max-width:576px){
  .modal.show .modal-dialog{ width:calc(100% - 1.5rem); max-width:100% }
}

/* ------------------------------ */
/* Responsive ≤ 480px             */
/* One-row header, no overlap     */
/* ------------------------------ */
@media (max-width:480px){
  :root{ --m-header-gap:12px }

  /* Keep dashboard flow, but main takes full width */
  .dashboard{ flex-direction:column }
  .main{ margin-left:0; width:100% }
  .sidebar{ width:100%; position:relative; z-index:10 }
  .sidebar:hover ~ .main{ margin-left:0; width:100% }

  /* Header stays one row */
  .header-top{
    display:flex !important; flex-direction:row !important;
    align-items:center !important; justify-content:space-between !important;
    gap:var(--m-header-gap) !important; padding:.6rem .8rem !important; text-align:left !important;
  }

  /* Hide logo for space */
  .logo-header{ display:none !important }

  /* Search scales but never overflows */
  .search-box{ flex:1 1 0 !important; min-width:0 !important; margin:0 !important }
  .search-box input{
    height:36px !important; padding:6px 34px 6px 12px !important;
    font-size:.9rem !important; border-radius:28px !important
  }
  .search-box i{ right:10px !important }

  /* Profile button shows icon + (clamped) username */
  .profile-btn{
    flex:0 0 auto !important; width:auto !important; height:44px !important;
    padding:0 .75rem !important; margin-left:var(--m-header-gap) !important;
    border-radius:999px !important; display:inline-flex !important;
    align-items:center !important; justify-content:center !important; gap:8px !important;
    max-width:45vw !important;
  }
  .profile-btn i{ font-size:22px !important; flex:0 0 auto !important; line-height:1 !important }
  .profile-btn .username{
    display:inline-flex !important; align-items:center !important;
    white-space:nowrap !important; overflow:hidden !important; text-overflow:ellipsis !important;
    max-width:calc(45vw - 28px - 16px) !important; font-size:.9rem !important; line-height:1.1 !important
  }

  /* Compact cards on mobile */
  .ui-card{ padding:10px }
  .ui-card.card-themed .ui-card-head{
    flex-direction:column; align-items:flex-start; gap:4px
  }
}
